{
  "comments": [
    {
      "key": {
        "uuid": "dcc22344_894a412e",
        "filename": "tools/helper.cpp",
        "patchSetId": 10
      },
      "lineNbr": 183,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2021-09-16T05:02:45Z",
      "side": 1,
      "message": "I am looking at this and is confused on when this will ever fail.\n\nIsn\u0027t getting `alignof(destination)` the same as alignof(viod*). That will be the same as any pointer.\n\nhttps://en.cppreference.com/w/cpp/language/alignof\n\nDoes the pointer get different valid of alignof depending on the system?\n\nVivek? do you have the reasoning behind it? https://gerrit.openbmc-project.xyz/c/openbmc/phosphor-ipmi-flash/+/40727\n\nSome basic test,\n\n```\nstruct alignas(alignof(std::uint16_t)) test\n{\n} __attribute__((packed));\n\n\nstd::cout \u003c\u003c \"uint16_t : \" \u003c\u003c alignof(std::uint16_t) \u003c\u003c std::endl;\nstd::cout \u003c\u003c \"test : \" \u003c\u003c alignof(test) \u003c\u003c std::endl;\nstd::cout \u003c\u003c \"test* : \" \u003c\u003c sizeof(test *) \u003c\u003c std::endl;\nstd::cout \u003c\u003c \"void* : \" \u003c\u003c alignof(void *) \u003c\u003c std::endl;\n```\n\nOutput\n```\nuint16_t : 2\ntest : 2\ntest* : 8\nvoid* : 8\n```\n\n----\n\nSo I am wondering if we even need the check at all.",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 183,
        "endChar": 55
      },
      "revId": "3a052098b2f89e3402b95d1a0d970d1b227a7384",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "deb34a74_2ed60899",
        "filename": "tools/helper.cpp",
        "patchSetId": 10
      },
      "lineNbr": 183,
      "author": {
        "id": 1000590
      },
      "writtenOn": "2021-09-16T05:29:21Z",
      "side": 1,
      "message": "I misunderstood the alignof().  My intention was to check if the destination and source address es are 8 byte aligned.",
      "parentUuid": "dcc22344_894a412e",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 183,
        "endChar": 55
      },
      "revId": "3a052098b2f89e3402b95d1a0d970d1b227a7384",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a4e5eeb2_304a7d79",
        "filename": "tools/helper.cpp",
        "patchSetId": 10
      },
      "lineNbr": 183,
      "author": {
        "id": 1000590
      },
      "writtenOn": "2021-09-16T05:52:18Z",
      "side": 1,
      "message": "Initially I had a basic alignment check  \"(destination \u0026 (sizeof(uint64_t) - 1) \u003d\u003d 0)\" but saw this function used in some other place and thought it might be better to use that.",
      "parentUuid": "deb34a74_2ed60899",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 183,
        "endChar": 55
      },
      "revId": "3a052098b2f89e3402b95d1a0d970d1b227a7384",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "47fcc017_8284be20",
        "filename": "tools/helper.cpp",
        "patchSetId": 10
      },
      "lineNbr": 183,
      "author": {
        "id": 1000885
      },
      "writtenOn": "2021-09-20T04:13:15Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4e5eeb2_304a7d79",
      "range": {
        "startLine": 182,
        "startChar": 0,
        "endLine": 183,
        "endChar": 55
      },
      "revId": "3a052098b2f89e3402b95d1a0d970d1b227a7384",
      "serverId": "adbd0a64-1f21-4d83-b585-671fe73cb6e4",
      "unresolved": false
    }
  ]
}